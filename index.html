<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Timesheet</title>
    <link rel="stylesheet" href="./style.css" />
    <link rel="icon" type="image/x-icon"
 href="./favicon.ico" />
</head>

<body class="wrapper stack">
    <h1 class="wrapper__inner">Timesheet</h1>
    <h2 class="wrapper__inner h4">Time Entries</h2>
    <time-sheet>
    <form class="wrapper__inner" id=timesheet>
        <table>
            <thead>
                <tr>
                    <th>Task</th>
                    <th>Annotation</th>
                    <th>Time Start</th>
                    <th>Time End</th>
                    <th>Duration</th>
                    <th>Synced</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody id="time_entries">
                <tr data-new="task">
                    <td><input type="text" name="task" list="prevTasks"></td>
                    <td><input type="text" name="annotation"></td>
                    <td><input type="time" name="time_start"></td>
                    <td><input type="time" name="time_end"></td>
                    <td><output class="pulseOpacity" name="duration"></output></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr class="table-footer">
                    <td colspan="4"></td>
                    <td><output name="durationTotal"></output> <output class="opacity50" name="durationNetIncome"></output></td>
                    <td></td>
                </tr>
            </tbody>
        </table>

        <datalist id="prevTasks"></datalist>
        <!-- TODO add hidden button to save data -->
        
    </form>
    </time-sheet>
    <details class="wrapper__inner" id="tasks" open>
        <summary><h2 class="h4">Tasks</h2></summary>
        <task-list></task-list>
    </details>
    
        <details class="stack wrapper__inner" id="archive">
            <summary><h2 class="h4">Archive</h2></summary>
            <form name="archive">
                <button name="archive">Archive</button>
            </form>
            <div>
                <h3  class="h5">Totals</h3>
                <dl>
                    <div>
                        <dt>Week</dt>
                        <dd><output name="totalDurationWeek"></output></dd>
                        <dd><output name="totalNetIncomeWeek"></output></dd>
                    </div>
                    <div>
                        <dt>Last Week</dt>
                        <dd><output name="totalDurationLastWeek"></output></dd>
                        <dd><output name="totalNetIncomeLastWeek"></output></dd>
                    </div>
                    <div>
                        <dt>Month</dt>
                        <dd><output name="totalDurationMonth"></output></dd>
                        <dd><output name="totalNetIncomeMonth"></output></dd>
                    </div>
                    <div>
                        <dt>Last Month</dt>
                        <dd><output name="totalDurationLastMonth"></output></dd>
                        <dd><output name="totalNetIncomeLastMonth"></output></dd>
                    </div>
                </dl>
            </div>
            <div>
                <h3  class="h5">Entries</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Task</th>
                            <th>Annotation</th>
                            <th>Date</th>
                            <th>Time Start</th>
                            <th>Time End</th>
                            <th>Duration</th>
                            <th>Synced</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="archive_entries">
                    </tbody>
                </table>
                <nav class="pagination">
                    <ol  id="archive_entries_page_nav"></ol>
                </nav>
            </div>
        </details>

    <details class="wrapper__inner stack" id="settings">
        <summary><h2 class="h4">Settings</h2></summary>
        <form class="stack" id="settings">
            <p>
                <label for="settings_rate">Color</label>
                <input id="settings_rate" type="color" name="color" />
            </p>
            <p>
                <label for="settings_rate">Rate</label>
                <input id="settings_rate" type="number" name="rate" step="0.01"/>
            </p>
            <p>
                <label for="settings_tax">Tax %</label>
                <input id="settings_tax" type="number" name="tax" step="0.01"/>
            </p>
            <button name="save">Save</button>
        </form>
        <form class="stack" id="import">
            <textarea name="data"></textarea>
            <button name="import">Import</button>
        </form>
        <form class="stack" id="export">
            <textarea name="data"></textarea>
            <button name="export">Export</button>
        </form>
       
    
    </details>
    

    <template id="week_nav">
        <nav data-week-nav>
            <ul>
                <li data-next-week><a href="#"><time></time></a></li>
                <li data-current-week><time></time></li>
                <li data-previous-week><a href="#"><time></time></a></li>
            </ul>
        </nav>
    </template>

    <template id="entry_row">
        <tr>
            <td><input type="text" name="task" list="prevTasks"></td>
            <td><input type="text" name="annotation"></td>
            <td><input type="time" name="time_start"></td>
            <td><input type="time" name="time_end"></td>
            <td><output name="duration"></output></td>
            <td><input type="checkbox" name="synced"></td>
            <td><button name="delete" type="button" data-style="subtle"><span class="sr-only">Delete</span>&times;</button></td>
        </tr>
    </template>

    <template id="task_total">
        <tr>
            <td data-task></td>
            <td><output name="taskTotal"></output></td>
            <td><input type="checkbox" name="synced"></td>
        </tr>
    </template>

    <template id="archive_entry_row">
        <tr data-id="">
            <td data-field="task"></td>
            <td data-field="annotation"></td>
            <td data-field="date_start" title="date started"></td>
            <td data-field="time_start"></td>
            <td data-field="time_end"></td>
            <td data-field="duration"></td>
            <td><span class="cb-state" data-field="synced"></span></td>
            <td><button name="delete" type="button" data-style="subtle"><span class="sr-only">Delete</span>&times;</button></td>
        </tr>
    </template>
    <template id="archive_entries_page_nav_item">
        <li aria-selected="true"><button type="button" data-style="subtle"></button></li>
    </template>
    <script type="module" src="./script.js"></script>
</body>

</html>